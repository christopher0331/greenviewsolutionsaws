/**
 * @remix-run/router v0.2.0-pre.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
let t;!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));function e(e={}){let r,{initialEntries:n=["/"],initialIndex:a,v5Compat:l=!1}=e;r=n.map(((t,e)=>f(t,null,0===e?"default":void 0)));let s=d(null==a?r.length-1:a),c=t.Pop,u=null;function d(t){return Math.min(Math.max(t,0),r.length-1)}function h(){return r[s]}function f(t,e=null,n){return o(r?h().pathname:"/",t,e,n)}return{get index(){return s},get action(){return c},get location(){return h()},createHref:t=>"string"==typeof t?t:i(t),push(e,n){c=t.Push;let a=f(e,n);s+=1,r.splice(s,r.length,a),l&&u&&u({action:c,location:a})},replace(e,n){c=t.Replace;let a=f(e,n);r[s]=a,l&&u&&u({action:c,location:a})},go(e){c=t.Pop,s=d(s+e),u&&u({action:c,location:h()})},listen:t=>(u=t,()=>{u=null})}}function r(t={}){return s((function(t,e){let{pathname:r,search:n,hash:a}=t.location;return o("",{pathname:r,search:n,hash:a},e.state?.usr||null,e.state?.key||"default")}),(function(t,e){return"string"==typeof e?e:i(e)}),null,t)}function n(t={}){return s((function(t,e){let{pathname:r="/",search:n="",hash:a=""}=l(t.location.hash.substr(1));return o("",{pathname:r,search:n,hash:a},e.state?.usr||null,e.state?.key||"default")}),(function(t,e){let r=t.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let e=t.location.href,r=e.indexOf("#");n=-1===r?e:e.slice(0,r)}return n+"#"+("string"==typeof e?e:i(e))}),(function(t,e){}),t)}function a(t){return{usr:t.state,key:t.key}}function o(t,e,r=null,n){return{pathname:"string"==typeof t?t:t.pathname,search:"",hash:"",..."string"==typeof e?l(e):e,state:r,key:e?.key||n||Math.random().toString(36).substr(2,8)}}function i({pathname:t="/",search:e="",hash:r=""}){return e&&"?"!==e&&(t+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function l(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function s(e,r,n,i={}){let{window:l=document.defaultView,v5Compat:s=!1}=i,c=l.history,u=t.Pop,d=null;function h(){u=t.Pop,d&&d({action:u,location:f.location})}let f={get action(){return u},get location(){return e(l,c)},listen(t){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener("popstate",h),d=t,()=>{l.removeEventListener("popstate",h),d=null}},createHref:t=>r(l,t),push:function(e,r){u=t.Push;let i=o(f.location,e,r);n?.(i,e);let h=a(i),p=f.createHref(i);try{c.pushState(h,"",p)}catch(m){l.location.assign(p)}s&&d&&d({action:u,location:i})},replace:function(e,r){u=t.Replace;let i=o(f.location,e,r);n?.(i,e);let l=a(i),h=f.createHref(i);c.replaceState(l,"",h),s&&d&&d({action:u,location:i})},go:t=>c.go(t)};return f}function c(t,e,r="/"){let n=v(("string"==typeof e?l(e):e).pathname||"/",r);if(null==n)return null;let a=u(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){return t.length===e.length&&t.slice(0,-1).every(((t,r)=>t===e[r]))?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(a);let o=null;for(let i=0;null==o&&i<a.length;++i)o=p(a[i],n);return o}function u(t,e=[],r=[],n=""){return t.forEach(((t,a)=>{let o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(n)||y(!1),o.relativePath=o.relativePath.slice(n.length));let i=M([n,o.relativePath]),l=r.concat(o);t.children&&t.children.length>0&&(!0===t.index&&y(!1),u(t.children,e,l,i)),(null!=t.path||t.index)&&e.push({path:i,score:f(i,t.index),routesMeta:l})})),e}const d=/^:\w+$/,h=t=>"*"===t;function f(t,e){let r=t.split("/"),n=r.length;return r.some(h)&&(n+=-2),e&&(n+=2),r.filter((t=>!h(t))).reduce(((t,e)=>t+(d.test(e)?3:""===e?1:10)),n)}function p(t,e){let{routesMeta:r}=t,n={},a="/",o=[];for(let i=0;i<r.length;++i){let t=r[i],l=i===r.length-1,s="/"===a?e:e.slice(a.length)||"/",c=g({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},s);if(!c)return null;Object.assign(n,c.params);let u=t.route;o.push({params:n,pathname:M([a,c.pathname]),pathnameBase:A(M([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=M([a,c.pathnameBase]))}return o}function m(t,e={}){return t.replace(/:(\w+)/g,((t,r)=>(null==e[r]&&y(!1),e[r]))).replace(/\/*\*$/,(t=>null==e["*"]?"":e["*"].replace(/^\/*/,"/")))}function g(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=function(t,e=!1,r=!0){let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((t,e)=>(n.push(e),"([^\\/]+)")));t.endsWith("*")?(n.push("*"),a+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=r?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(a,e?void 0:"i"),n]}(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce(((t,e,r)=>{if("*"===e){let t=l[r]||"";i=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(r){return t}}(l[r]||""),t}),{}),pathname:o,pathnameBase:i,pattern:t}}function v(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=t.charAt(e.length);return r&&"/"!==r?null:t.slice(e.length)||"/"}function y(t,e){if(!1===t||null==t)throw new Error(e)}function w(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(r){}}}function b(t,e="/"){let{pathname:r,search:n="",hash:a=""}="string"==typeof t?l(t):t,o=r?r.startsWith("/")?r:function(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?r.length>1&&r.pop():"."!==t&&r.push(t)})),r.length>1?r.join("/"):"/"}(r,e):e;return{pathname:o,search:P(n),hash:S(a)}}function D(t,e,r){let n,a="string"==typeof t?l(t):{...t},o=""===t||""===a.pathname?"/":a.pathname;if(null==o)n=r;else{let t=e.length-1;if(o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;a.pathname=e.join("/")}n=t>=0?e[t]:"/"}let i=b(a,n);return o&&"/"!==o&&o.endsWith("/")&&!i.pathname.endsWith("/")&&(i.pathname+="/"),i}function E(t){return""===t||""===t.pathname?"/":"string"==typeof t?l(t).pathname:t.pathname}const M=t=>t.join("/").replace(/\/\/+/g,"/"),A=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",S=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"",x=(t,e={})=>{let r="number"==typeof e?{status:e}:e,n=new Headers(r.headers);return n.has("Content-Type")||n.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),{...r,headers:n})},R=(t,e=302)=>{let r=e;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let n=new Headers(r.headers);return n.set("Location",t),new Response(null,{...r,headers:n})};class C{constructor(t,e,r){this.status=t,this.statusText=e||"",this.data=r}}function T(t){return t instanceof C}var $;!function(t){t.data="data",t.redirect="redirect",t.error="error"}($||($={}));const j={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},k={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function O(e){e.routes.length>0||y(!1);let r=W(e.routes),n=null,a=null,s=null,u=null,d=null,h=!1,f=c(r,e.history.location),p=null;if(null==f){let{matches:t,route:e,error:n}=z(r);f=t,p={[e.id]:n}}let m,g=null==e.hydrationData?.errors&&null!=e.hydrationData?.loaderData&&f.filter((t=>t.route.loader)).some((t=>void 0===e.hydrationData?.loaderData?.[t.route.id]));g&&console.warn("The provided hydration data did not find loaderData for all matched routes with loaders.  Performing a full initial data load");let v,w={historyAction:e.history.action,location:e.history.location,matches:f,initialized:null!=e.hydrationData&&!g,navigation:j,restoreScrollPosition:null,resetScrollPosition:!0,revalidation:"idle",loaderData:g?{}:e.hydrationData?.loaderData||{},actionData:e.hydrationData?.actionData||null,errors:e.hydrationData?.errors||p,fetchers:new Map},b=null,D=!0,E=!1,M=!1,A=new Map,P=0,S=-1,x=new Map,R=new Set,T=new Map;function O(t){w={...w,...t},a?.(w)}function H(r,n,a){O({...null!=w.actionData&&null!=w.navigation.formMethod&&"loading"===w.navigation.state?{}:{actionData:null},...a,historyAction:r,location:n,initialized:!0,navigation:j,revalidation:"idle",loaderData:q(w,a),restoreScrollPosition:!w.navigation.formData&&rt(n,a.matches||w.matches),resetScrollPosition:D}),E||r===t.Pop||(r===t.Push?e.history.push(n,n.state):r===t.Replace&&e.history.replace(n,n.state)),b=null,D=!0,E=!1,M=!1}async function N(t,e,n){v?.abort(),b=t,E=!0===n?.startUninterruptedRevalidation,function(t,e){if(s&&u&&d){let r=u(t,e)||t.key;s[r]=d()}}(w.location,w.matches),D=!1!==n?.resetScroll;let a=n?.overrideNavigation,i=c(r,e);if(!i){let{matches:n,route:a,error:o}=z(r);return void H(t,e,{matches:n,errors:{[a.id]:o}})}if(n?.pendingError){return void H(t,e,{matches:i,errors:{[_(i).route.id]:n?.pendingError}})}if(l=w.location,h=e,l.pathname===h.pathname&&l.search===h.search&&l.hash!==h.hash)return void H(t,e,{matches:i});var l,h;let f=null,p=null;if(n?.submission){let t=await async function(t,e,r,n){M=!0,n[n.length-1].route.index&&!Y(e.search)&&(n=n.slice(0,-1));let a;O({navigation:{state:"submitting",location:e,...r}});let i=n.slice(-1)[0];if(i.route.action){let t=new AbortController;if(v=t,a=await B(i,e,t.signal,r),t.signal.aborted)return{shortCircuited:!0};v=null}else a={type:$.error,error:new C(405,"Method Not Allowed",`No action found for [${J(e)}]`)};if(X(a)){let t={state:"loading",location:o(w.location,a.location),...r};return await Q(a,t),{shortCircuited:!0}}if(V(a)){return{pendingActionError:{[_(n,i.route.id).route.id]:a.error}}}return{pendingActionData:{[i.route.id]:a.data}}}(0,e,n.submission,i);if(t.shortCircuited)return;f=t.pendingActionData||null,p=t.pendingActionError||null,a={state:"loading",location:e,...n.submission}}let{shortCircuited:m,loaderData:g,errors:x}=await async function(t,e,r,n,a,o,i){let l=a;if(!l){l={state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0}}let[s,c]=I(w,n,r,e,M,o,i,T);if(0===s.length&&0===c.length)return H(t,e,{matches:n,errors:i||null,actionData:o||null}),{shortCircuited:!0};E||(c.forEach((([t])=>{let e={state:"loading",data:w.fetchers.get(t)?.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};w.fetchers.set(t,e)})),O({navigation:l,actionData:o||w.actionData||null,...c.length>0?{fetchers:new Map(w.fetchers)}:{}}));let u=new AbortController;v=u,S=++P,c.forEach((([t])=>A.set(t,u)));let d=await Promise.all([...s.map((t=>B(t,e,u.signal))),...c.map((([,t,e])=>B(e,t,u.signal)))]),h=d.slice(0,s.length),f=d.slice(s.length);if(u.signal.aborted)return{shortCircuited:!0};v=null,c.forEach((t=>A.delete(t)));let p=G(d);if(p){let t=U(w,p);return await Q(p,t),{shortCircuited:!0}}let{loaderData:m,errors:g}=F(w,n,s,h,i,c,f);!function(){let t=[];for(let e of R){let r=w.fetchers.get(e);r||y(!1),"loading"===r.state&&(R.delete(e),t.push(e))}tt(t)}();let b=et(S);return{loaderData:m,errors:g,...b||c.length>0?{fetchers:new Map(w.fetchers)}:{}}}(t,e,n?.submission,i,a,f,p);m||H(t,e,{matches:i,loaderData:g,errors:x})}function K(t){return w.fetchers.get(t)||k}async function Q(e,r){e.revalidate&&(M=!0),r.location||y(!1),await N(t.Replace,r.location,{overrideNavigation:r})}function Z(t){let e=A.get(t);e||y(!1),e.abort(),A.delete(t)}function tt(t){for(let e of t){let t={state:"idle",data:K(e).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};w.fetchers.set(e,t)}}function et(t){let e=[];for(let[r,n]of x)if(n<t){let t=w.fetchers.get(r);t||y(!1),"loading"===t.state&&(Z(r),x.delete(r),e.push(r))}return tt(e),e.length>0}function rt(t,e){if(s&&u&&d){let r=u(t,e)||t.key,n=s[r];if("number"==typeof n)return n}return null}return m={get state(){return w},initialize:function(){return n=e.history.listen((({action:t,location:e})=>N(t,e))),w.initialized||N(t.Pop,w.location),m},subscribe:function(t){if(a)throw new Error("A router only accepts one active subscriber");return a=t,()=>{a=null}},enableScrollRestoration:function(t,e,r){if(s=t,d=e,u=r||(t=>t.key),!h&&w.navigation===j){h=!0;let t=rt(w.location,w.matches);null!=t&&O({restoreScrollPosition:t})}return()=>{s=null,d=null,u=null}},navigate:async function(r,n){if("number"==typeof r)return void e.history.go(r);let{path:a,submission:i,error:s}=L("string"==typeof r?l(r):r,n),c=o(w.location,a,n?.state),u=n?.replace?t.Replace:t.Push,d=n&&"resetScroll"in n?n.resetScroll:void 0;return await N(u,c,{submission:i,pendingError:s,resetScroll:d})},fetch:function(t,e,n){if("undefined"==typeof AbortController)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");let a=c(r,e);a||y(!1),A.has(t)&&Z(t);let s=a[a.length-1].route.index&&!Y(l(e).search||"")?a.slice(-2)[0]:a.slice(-1)[0],{path:u,submission:d}=L(l(e),n);if(d)return void async function(t,e,n,a){M=!0,T.delete(t);let i={state:"submitting",...a,data:w.fetchers.get(t)?.data||void 0};w.fetchers.set(t,i),O({fetchers:new Map(w.fetchers)});let l=new AbortController;A.set(t,l);let s=await B(n,e,l.signal,a);if(l.signal.aborted)return;if(X(s)){R.add(t);let e={state:"loading",...a,data:void 0};w.fetchers.set(t,e),O({fetchers:new Map(w.fetchers)});let r={state:"loading",location:o(w.location,s.location),...a};return void(await Q(s,r))}if(V(s)){let e=_(w.matches,n.route.id);return w.fetchers.delete(t),void O({fetchers:new Map(w.fetchers),errors:{[e.route.id]:s.error}})}let u=w.navigation.location||w.location,d="idle"!==w.navigation.state?c(r,w.navigation.location):w.matches;d||y(!1);let h=++P;x.set(t,h);let f={state:"loading",data:s.data,...a};w.fetchers.set(t,f);let[p,m]=I(w,d,a,u,M,{[n.route.id]:s.data},null,T);m.filter((([e])=>e!==t)).forEach((([e])=>{let r={state:"loading",data:w.fetchers.get(t)?.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};w.fetchers.set(e,r),A.set(e,l)})),O({fetchers:new Map(w.fetchers)});let g=await Promise.all([...p.map((t=>B(t,u,l.signal))),...m.map((([,t,e])=>B(e,t,l.signal)))]),D=g.slice(0,p.length),E=g.slice(p.length);if(l.signal.aborted)return;x.delete(t),A.delete(t),m.forEach((t=>A.delete(t)));let C=G(D);if(C){let t=U(w,C);return void(await Q(C,t))}let{loaderData:$,errors:j}=F(w,w.matches,p,D,null,m,E),k={state:"idle",data:s.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};w.fetchers.set(t,k);let W=et(h);"loading"===w.navigation.state&&h>S?(b||y(!1),v?.abort(),H(b,w.navigation.location,{matches:d,loaderData:$,errors:j,fetchers:new Map(w.fetchers)})):(O({errors:j,loaderData:$,...W?{fetchers:new Map(w.fetchers)}:{}}),M=!1)}(t,e,s,d);let h={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:w.fetchers.get(t)?.data||void 0};!async function(t,e,r,n){w.fetchers.set(t,n),O({fetchers:new Map(w.fetchers)}),T.set(t,[e,r]);let a=new AbortController;A.set(t,a);let o=await B(r,e,a.signal);if(a.signal.aborted)return;if(A.delete(t),X(o)){let t=U(w,o);return void(await Q(o,t))}if(V(o)){let e=_(w.matches,r.route.id);return w.fetchers.delete(t),void O({fetchers:new Map(w.fetchers),errors:{[e.route.id]:o.error}})}let i={state:"idle",data:o.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};w.fetchers.set(t,i),O({fetchers:new Map(w.fetchers)})}(t,i(u),s,h)},revalidate:function(){M=!0,O({revalidation:"loading"}),"submitting"===w.navigation.state&&"get"!==w.navigation.formMethod||("idle"!==w.navigation.state?N(b||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation}):N(w.historyAction,w.location,{startUninterruptedRevalidation:!0}))},createHref:J,getFetcher:K,deleteFetcher:function(t){A.has(t)&&Z(t),T.delete(t),x.delete(t),R.delete(t),w.fetchers.delete(t)},dispose:function(){n&&n(),a=null,v?.abort();for(let[,t]of A)t.abort()},_internalFetchControllers:A},m}function W(t,e=[],r=new Set){return t.map(((t,n)=>{let a=[...e,n],o="string"==typeof t.id?t.id:a.join("-");return r.has(o)&&y(!1),r.add(o),{...t,id:o,children:t.children?W(t.children,a,r):void 0}}))}function L(t,e){if(!e||!("formMethod"in e)&&!("formData"in e))return{path:t};if(null!=e.formMethod&&"get"!==e.formMethod)return{path:t,submission:{formMethod:e.formMethod,formAction:J(t),formEncType:e?.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:t};let r=new URLSearchParams(t.search);for(let[n,a]of e.formData){if("string"!=typeof a)return{path:t,error:new C(400,"Bad Request","Cannot submit binary form data using GET")};r.append(n,a)}return{path:{...t,search:`?${r}`}}}function U(t,e){let{formMethod:r,formAction:n,formEncType:a,formData:i}=t.navigation;return{state:"loading",location:o(t.location,e.location),formMethod:r||void 0,formAction:n||void 0,formEncType:a||void 0,formData:i||void 0}}function I(t,e,r,n,a,o,i,l){let s=i?e.findIndex((t=>t.route.id===Object.keys(i)[0])):e.length,c=i?Object.values(i)[0]:o?Object.values(o)[0]:null,u=e.filter(((e,o)=>!(!e.route.loader||o>=s)&&(function(t,e,r){let n=!e||r.route.id!==e.route.id,a=void 0===t[r.route.id];return n||a}(t.loaderData,t.matches[o],e)||H(t.location,t.matches[o],r,n,e,a,c)))),d=[];if(a)for(let h of l.entries()){let[t,[e,n]]=h;H(e,n,r,e,n,a,c)&&d.push([t,e,n])}return[u,d]}function H(t,e,r,n,a,o,i){let l=K(t),s=e.params,c=K(n),u=a.params,d=e.pathname!==a.pathname||e.route.path?.endsWith("*")&&e.params["*"]!==a.params["*"]||l.toString()===c.toString()||l.search!==c.search||o;return a.route.shouldRevalidate?a.route.shouldRevalidate({currentUrl:l,currentParams:s,nextUrl:c,nextParams:u,...r,actionResult:i,defaultShouldRevalidate:d}):d}async function B(t,e,r,n){let a,o=$.data;try{let o=n?"action":"loader",i=t.route[o];i||y(!1),a=await i({params:t.params,request:N(e,n),signal:r})}catch(i){o=$.error,a=i}if(a instanceof Response){let t,e=a.status,r=a.headers.get("Location");return e>=300&&e<=399&&null!=r?{type:$.redirect,status:e,location:r,revalidate:null!==a.headers.get("X-Remix-Revalidate")}:(t=a.headers.get("Content-Type")?.startsWith("application/json")?await a.json():await a.text(),o===$.error?{type:o,error:new C(e,a.statusText,t)}:{type:o,data:t})}return o===$.error?{type:o,error:a}:{type:o,data:a}}function N(t,e){let r=K(t).toString();if(!e)return new Request(r);let{formMethod:n,formEncType:a,formData:o}=e,i=o;if("application/x-www-form-urlencoded"===a){i=new URLSearchParams;for(let[t,e]of o.entries())"string"!=typeof e&&y(!1),i.append(t,e)}return new Request(r,{method:n.toUpperCase(),headers:{"Content-Type":a},body:i})}function F(t,e,r,n,a,o,i){let l={},s=null;return n.forEach(((t,n)=>{let o=r[n].route.id;if(X(t)&&y(!1),V(t)){let r=_(e,o),n=t.error;a&&(n=Object.values(a)[0],a=null),s=Object.assign(s||{},{[r.route.id]:n})}else l[o]=t.data})),a&&(s=a),o.forEach((([e,r,n],a)=>{let o=i[a];if(V(o)){let r=_(t.matches,n.route.id);s?.[r.route.id]||(s={...s,[r.route.id]:o.error}),t.fetchers.delete(e)}else if(X(o))y(!1);else{let r={state:"idle",data:o.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};t.fetchers.set(e,r)}})),{loaderData:l,errors:s}}function q(t,e){let r=(e.matches||t.matches).filter((r=>void 0!==t.loaderData[r.route.id]&&void 0===e.loaderData?.[r.route.id]));return{...e.loaderData,...r.reduce(((e,r)=>Object.assign(e,{[r.route.id]:t.loaderData[r.route.id]})),{})}}function _(t,e){return(e?t.slice(0,t.findIndex((t=>t.route.id===e))+1):[...t]).reverse().find((t=>t.route.errorElement))||t[0]}function z(t){let e=t.find((t=>t.index||""===t.path||"/"===t.path))||{id:"__shim-404-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e,error:new C(404,"Not Found",null)}}function G(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(X(r))return r}}function J(t){return(t.pathname||"")+(t.search||"")}function V(t){return t.type===$.error}function X(t){return t?.type===$.redirect}function Y(t){return new URLSearchParams(t).getAll("index").some((t=>""===t))}function K(t){let e="undefined"!=typeof window&&void 0!==window.location?window.location.origin:"unknown://unknown",r="string"==typeof t?t:J(t);return new URL(r,e)}function Q({initialEntries:t,initialIndex:r,...n}){return O({history:e({initialEntries:t,initialIndex:r}),...n})}function Z({window:t,...e}){return O({history:r({window:t}),...e})}function tt({window:t,...e}){return O({history:n({window:t}),...e})}export{t as Action,k as IDLE_FETCHER,j as IDLE_NAVIGATION,r as createBrowserHistory,Z as createBrowserRouter,n as createHashHistory,tt as createHashRouter,e as createMemoryHistory,Q as createMemoryRouter,i as createPath,O as createRouter,m as generatePath,E as getToPathname,y as invariant,T as isRouteErrorResponse,M as joinPaths,x as json,g as matchPath,c as matchRoutes,A as normalizePathname,l as parsePath,R as redirect,b as resolvePath,D as resolveTo,v as stripBasename,w as warning};
//# sourceMappingURL=router.production.min.js.map
